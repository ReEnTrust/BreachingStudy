var hotelListString= "13 Rue des Écoles;83269;48.8477957;2.3515231;Paris;Hôtel Minerve Paris;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=83269;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=83269;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;3.3;168;true+40 Avenue de Friedland;83280;48.874192555247;2.2982347011566;Paris;Hôtel Napoléon;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=83280;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=83280;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;6.2;174;true+13 Boulevard du Temple;83286;48.863912740184;2.3660878054094;Paris;Murano Urban Resort;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=83286;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=83286;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5.4;148;true+98 Boulevard de Magenta;83296;48.877691;2.35484;Paris;Hôtel de L'Europe;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=83296;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=83296;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;10;161;false+14 Rue de la Trémoille;83303;48.866866;2.302995;Paris;Hôtel de la Trémoille;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=83303;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=83303;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;6.7;171;false+8 Rue de Verneuil;83332;48.857423;2.331469;Paris;Hôtel Verneuil;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=83332;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=83332;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;10;164;false+1 Boulevard Ornano;83369;48.894298295672;2.3493208323998;Paris;Hôtel Victoria - 1 Boulevard Ornano;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=83369;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=83369;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5;151;false+35 Rue de Berri;83801;48.871101721121;2.3041541579164;Paris;Champs-Elysees Plaza;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=83801;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=83801;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;4.3;149;false+36 Rue Pierre Demours;83905;48.881147;2.29472;Paris;Waldorf Arc de Triomphe Hôtel & Spa;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=83905;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=83905;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;7.5;165;false+108 Rue Monge;83972;48.839386;2.351151;Paris;Hotel de France;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=83972;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=83972;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;0;173;false+143 Avenue Malakoff;84795;48.87552;2.283811;Paris;La Villa Maillot & Spa ****;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=84795;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=84795;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5;148;false+25, Avenue Du General Leclerc;84801;48.831089879632;2.3299495068815;Paris;Hôtel Best Western;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=84801;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=84801;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;6.3;180;false+4, Rue Richard Lenoir;85308;48.854312;2.382472;Paris;BLC Design Hotel;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85308;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85308;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;8.3;166;false+14 Rue Alexandre Dumas;85315;48.853088707029;2.390325726221;Paris;Entrée des artistes;Resort;http://tour-pedia.org/api/getPlaceDetails?id=85315;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85315;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;0;200;false+10 Rue de Stockholm;85341;48.877162;2.321935;Paris;Hôtel Wilson Opera;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85341;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85341;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;6.7;167;false+Avenue des Gobelins 50;85438;48.83403;2.353714;Paris;Oops! Hostel;Hostel;http://tour-pedia.org/api/getPlaceDetails?id=85438;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85438;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;6.6;159;false+1-7 Cour du Minervois;85547;48.831971;2.38686;Paris;Adagio Bercy Aparthotel;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85547;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85547;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;No reviews;155;false+64 Marceau;85563;48.870501863267;2.2981595993042;Paris;InterContinental;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85563;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85563;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;6;160;false+19 Rue de Berne;85575;48.880964;2.322821;Paris;Hotel Cervantes 3*;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85575;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85575;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;8;157;false+Porte De Versailles Vaugirard;85671;48.832934297234;2.2880879169389;Paris;Hotel Mercure;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85671;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85671;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;8;165;false+185 Boulevard brune;85706;48.823603;2.324225;Paris;Quality hotel;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85706;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85706;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5;162;false+37 Rue Servan;85741;48.861245815423;2.3829030274544;Paris;Hotel De Belfort Paris;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85741;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85741;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5;182;false+21 Boulevard de Clichy;85748;48.882273173988;2.3363996771326;Paris;Timhotel;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85748;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85748;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;4;161;false+9 Rue Littre;85802;48.84552739654;2.3244607158731;Paris;Hotel Littre****;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85802;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85802;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;1.3;148;false+94 Rue Didot;85860;48.828091;2.315337;Paris;Citadines Hotel;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85860;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85860;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;2;135;false+46 Boulevard Saint-Germain;85970;48.849695106551;2.3504990022073;Paris;Hôtel Abbatial Saint-Germain;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85970;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85970;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;8;150;false+1-7 Cour Du Minervois;85972;48.829365;2.426541;Paris;Adagio City Aparthotel Paris Bercy;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85972;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85972;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;No reviews;161;false+12 Rue Guenot;86086;48.851404744491;2.3924892971834;Paris;Alfa Hotel Nation Paris;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=86086;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=86086;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;0;179;false+13, Rue de Rocroy;86109;48.879696;2.350961;Paris;Hotel de Rocroy;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=86109;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=86109;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;8.6;162;false+111 Boulevard Poniatowski;86119;48.835006200502;2.4057039677833;Paris;Hotel Ibis;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=86119;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=86119;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5;178;false+92 Rue la Boétie;86165;48.872342714074;2.3092480114837;Paris;Hôtel Rochester ****;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=86165;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=86165;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5;184;false+147 Rue alésia;86240;48.830087;2.320258;Paris;Hôtel Montparnasse-Alésia;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=86240;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=86240;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;0;182;false+Rue Emile Reynaud;86550;48.90107;2.388984;Paris;B&B Hotel;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=86550;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=86550;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;6.2;166;false+12 Rue Louis Blanc;86613;48.879534049758;2.3684763908386;Paris;Ibis Jenmapes;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=86613;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=86613;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;2;173;false+132 Boulevard voltaire;86675;48.857537;2.380751;Paris;Le Royal Voltaire;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=86675;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=86675;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;3.3;157;false+79-81 Avenue du Maine;86776;48.83824372402;2.3226664469327;Paris;Holiday Inn;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=86776;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=86776;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5;180;false+Courtalain;86995;48.839833;2.407029;Paris;Chateau De Courtalain;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=86995;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=86995;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;No reviews;150;false+203 Rue de Paris;86999;48.82942175;2.4011446;Paris;Citéa - Porte de Charenton;Motel;http://tour-pedia.org/api/getPlaceDetails?id=86999;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=86999;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;1.3;99;false+12 Rue Léon Frot;87041;48.853673;2.388069;Paris;Comfort Hotel;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=87041;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=87041;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;6.3;175;false+21 Rue de Tolbiac;87138;48.829010125586;2.3740333235695;Paris;Ibis Styles;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=87138;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=87138;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;10;155;false+15/17 Boulevard R. Rolland;87255;48.819498;2.326475;Paris;Etap Hotel Porte D' Orleans;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=87255;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=87255;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5;148;false+4 Boulevard Berthier;87280;48.894400270362;2.3126089095274;Paris;Timhotel;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=87280;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=87280;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;4;177;false+7, Rue Jean Lantier;87480;48.8584145;2.3465319;Paris;Hotel Louvre-Rivoli;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=87480;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=87480;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;0;180;false+Avenue Victor Hugo, 16ème Bois de Boulogne Trocade;87650;48.8637;2.2769;Paris;Waytostay;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=87650;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=87650;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;No reviews;166;false+43 Rue Parmentier;87864;48.829289445005;2.461118574871;Paris;Hotel Napa;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=87864;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=87864;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;No reviews;157;false+20 Ave. de Tourville;88114;48.854142;2.307498;Paris;Hotel De Turenne;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=88114;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=88114;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;10;184;false+71 Rue de Charonne;88133;48.853680043257;2.3805898065676;Paris;Hi-Matic/Hi-Life;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=88133;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=88133;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;4.4;152;false+1bis-3, Rue d'Austerlitz;88210;48.829653209824;2.426894903183;Paris;Paris Hotel Gare de Lyon;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=88210;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=88210;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;10;170;false+17 Boulevard Kellermann;88227;48.819637447453;2.3565375432035;Paris;Centres Internationaux de Séjours à Paris;Hostel;http://tour-pedia.org/api/getPlaceDetails?id=88227;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=88227;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5;120;false+42 Rue de Moscou;88255;48.8817057289;2.3229907121467;Paris;Best Western Astoria Opera;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=88255;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=88255;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;6.3;149;false+11 Rue Berryer;88283;48.87530222938;2.3032716194385;Paris;Hôtel Salomon de Rotschild;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=88283;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=88283;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;No reviews;180;false+1 Boul. Victor;88313;48.836017;2.278666;Paris;Hôtel Médian;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=88313;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=88313;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;7.5;151;false+19 Avenue Kléber;88376;48.871024080963;2.2932457923889;Paris;The Peninsula Paris;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=88376;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=88376;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5;164;false+5 bis Rue de Messenet;88500;48.858336426754;2.2796190672496;Paris;Best Western Premier Trocadero;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=88500;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=88500;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;No reviews;160;false+Quai de la Marne;88626;48.889693310349;2.3827028274536;Paris;Quai de la Marne;Harbor / Marina;http://tour-pedia.org/api/getPlaceDetails?id=88626;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=88626;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;No reviews;145;false+60 Rue Belgrand;89102;48.864537893587;2.4063226934859;Paris;Hipotel;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=89102;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=89102;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;0;156;false+3 Rue d'Austerlitz;89201;48.846780115158;2.3702223111009;Paris;Timhôtel;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=89201;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=89201;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;8;176;false+37 Rue Saint-Charles;89257;48.849820484782;2.2884821891785;Paris;Hôtel Eiffel Saint-Charles;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=89257;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=89257;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;8.3;168;false+72 Boulevard de Grenelle;89480;48.850517127177;2.2933685055261;Paris;Hotel Relais Saint-Charles;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=89480;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=89480;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5.5;145;false+36 Rue de Douai;89696;48.882737;2.332363;Paris;Hotel Fiat;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=89696;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=89696;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;0;171;false+Rue de crimée;89702;48.886067255581;2.3820376396179;Paris;Hôtel Crimée;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=89702;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=89702;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;No reviews;164;false+151 bis Rue de Rennes;89779;48.84539900529;2.3256143920708;Paris;Legend Hotel;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=89779;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=89779;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5;157;false+2 Boulevard Flandrin;89782;48.864294597013;2.2729391322357;Paris;Vélib' [16-18];Bike Shop;http://tour-pedia.org/api/getPlaceDetails?id=89782;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=89782;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;0;110;false+7 Rue Belidor;90016;48.879931603116;2.2859748118516;Paris;Duplex Belidor;Bed & Breakfast;http://tour-pedia.org/api/getPlaceDetails?id=90016;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=90016;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;No reviews;150;false+203 Rue De Paris;90210;48.829283050854;2.4013950767457;Paris;Adagio Access - Porte De Charenton;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=90210;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=90210;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;No reviews;176;false+66 Rue Jean de la Fontaine;90307;48.850463;2.270494;Paris;Hôtel RIBERA;Resort;http://tour-pedia.org/api/getPlaceDetails?id=90307;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=90307;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;No reviews;156;false+Jean Menans;90691;48.884454498564;2.3762929085332;Paris;Ibis Budget;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=90691;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=90691;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;3.3;170;false+7 Rue du Général de Larminat, Paris;90746;48.83491;2.276669;Paris;Hotel Ares Eiffel;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=90746;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=90746;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;No reviews;173;false+Rue du Docteur Babinski;91272;48.901010551146;2.3339186018724;Paris;Ibis Budget;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=91272;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=91272;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5;175;false+31 Rue de la Folie Méricourt;91329;48.863119662529;2.3729395866394;Paris;Hotel FABRIC;Bed & Breakfast;http://tour-pedia.org/api/getPlaceDetails?id=91329;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=91329;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5;177;false+15 Rue de constantinople;84791;48.879871;2.320802;Paris;Quality Hotel Opera Saint-Lazare;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=84791;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=84791;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;3.3;178;false+92 Rue de Vaugirard;84963;48.846957706538;2.3259919254378;Paris;Holiday Inn Paris - Saint-Germain-des-Prés;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=84963;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=84963;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;6.4;177;false+Rue Pergolèse 3;85516;48.875884;2.28634045;Paris;Best Western Premier Hotel Pergolese;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85516;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85516;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;1;164;false+203 Rue De Paris;85750;48.82928;2.40161;Paris;Citea Residence Paris Porte De Charenton-le-Pont;Hotel;http://tour-pedia.org/api/getPlaceDetails?id=85750;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85750;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;5;154;false+64 Boulevard Haussmann;85926;48.873973802893;2.3278167843819;Paris;Terrasse du Printemps Haussman;Scenic Lookout;http://tour-pedia.org/api/getPlaceDetails?id=85926;http://tour-pedia.org/api/getReviewsByPlaceId?placeId=85926;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.;https://www.crerarhotels.com/media/2739110/deluxe-2018.jpg;6;178;false";


var allHotel = processData(hotelListString);
var typeOfHotel = extractTypes(allHotel);
var postalCode = extractPostcode(allHotel);
var hotelToDisplay = [];
var nbDays = 1;
var request = new XMLHttpRequest();
var modal = document.getElementById('myModal');
var btnClose = document.getElementById('closeReview');

//We fetch the reviews
function getReviews(idHotel){
    request.open('GET', allHotel[idHotel].reviews, true);
    request.send();
}

request.onload = function(){
    var dataFetched = JSON.parse(this.response);    
    if(request.status >= 200 && request.status < 400){
        var modal_content = document.getElementById('div-reviews-modal');
        modal_content.innerHTML = ''; //We wipe the previous things
        for(var i =0 ; i< dataFetched.length; i++){ 
            var div_oneReview = document.createElement('div');
            var reviewTitle = document.createElement('h5');
            reviewTitle.innerHTML='Review '+i+ ' ('+dataFetched[i].language+')';
            var paraReview = document.createElement('p');
            paraReview.setAttribute('class', 'paraReviewStyle');
            paraReview.innerHTML = dataFetched[i].text;
            div_oneReview.appendChild(reviewTitle);
            div_oneReview.appendChild(paraReview);
            modal_content.appendChild(div_oneReview);
        }
    }
    else{
        console.log('error');
    }
}

var today = new Date().toISOString().split('T')[0];
var checkin = document.getElementById('check-in-input');
var checkout = document.getElementById('check-out-input');
checkin.setAttribute('min', today);
checkin.value = today;

checkout.value = today;
checkout.setAttribute('min', checkin.value);

checkin.addEventListener('change', function(e){
   e.preventDefault();
    var d1 = new Date(checkin.value);
    var d2 = new Date(checkout.value);
    
    if(d2 - d1 < 0)
    {
            checkout.value = checkin.value;
    }
    
    checkout.setAttribute('min', checkin.value);
    d2 = new Date(checkout.value);
    
    var difference = d2.getTime() - d1.getTime();
    nbDays = Math.round(difference / (1000*3600*24));
    setNumberNights(nbDays);
    
});

checkout.addEventListener('change', function(e){
   e.preventDefault();
    var d1 = new Date(checkin.value);
    var d2 = new Date(checkout.value);
    
    var difference = d2.getTime() - d1.getTime();
    nbDays = Math.round(difference / (1000*3600*24));
    setNumberNights(nbDays);
});

function setNumberNights(number){
    var spanN = document.getElementById('span-nb-nights');
    if(number == 0)
        spanN.innerHTML = 1;
    else
        spanN.innerHTML = number;
}


function fillCategories(typeOfHotel){
    var selct = document.getElementById('categorie-selection');
    
    for(var i=0; i< typeOfHotel.length; i++)
        {
            var toAdd = document.createElement('option');
            toAdd.setAttribute('value', i+1);
            toAdd.innerHTML = typeOfHotel[i];
            selct.appendChild(toAdd);
        }
}

fillCategories(typeOfHotel);

function extractTypes(allHotel){
    var typeOfHotel =[];
    for(var i=0 ; i< allHotel.length; i++){
        if(!typeOfHotel.includes(allHotel[i].type))
            typeOfHotel.push(allHotel[i].type);
    }
    return typeOfHotel;
}

function extractPostcode(allHotel){
    var typeOfHotel =[];
    for(var i=0 ; i< allHotel.length; i++){
        if(!typeOfHotel.includes(allHotel[i].postal_code))
            typeOfHotel.push(allHotel[i].postal_code);
    }
    return typeOfHotel;
}



function Display (TD) {
    
    var display_case = document.getElementById('div-display-hotel');
    display_case.innerHTML = '';
    for(var i=0 ; i< TD.length; i++){
        
        addHotelSection(TD[i],display_case);
    }
    
}


function addHotelSection(Hotel, display_case){
        
        var div_col = document.createElement('div');
        div_col.setAttribute('class', 'col-md-4');
        
        var art = document.createElement('article');
        art.setAttribute('class', 'aa-properties-item');
        div_col.appendChild(art);
        
        var linkImg = document.createElement('a');
        linkImg.setAttribute('href', '#');
        linkImg.setAttribute('class', 'aa-properties-item-img');
        art.appendChild(linkImg);
        
        var Img = document.createElement('img');
        Img.setAttribute('alt', 'img');
        Img.setAttribute('src',Hotel.imageURL);
        linkImg.appendChild(Img);
        
        var labelHotel = document.createElement('div');
        if(Hotel.alwaysTop != 'true'){
            labelHotel.setAttribute('class', 'aa-tag for-rent');   
            labelHotel.innerHTML = 'Room Available';
        }
        else{
            labelHotel.setAttribute('class', 'aa-tag sold-out');
            labelHotel.innerHTML = 'BUY NOW';
        }
            
        
        art.appendChild(labelHotel);
        
        var contentP = document.createElement('div');
        contentP.setAttribute('class','aa-properties-item-content');
        art.appendChild(contentP);
        
        var div_ad = document.createElement('div');
        div_ad.setAttribute('class','aa-properties-info');
        contentP.appendChild(div_ad);
        
        var span_add = document.createElement('span');
        span_add.innerHTML = Hotel.address;
        div_ad.appendChild(span_add);
        
        
        var div_about = document.createElement('div');
        div_about.setAttribute('class','aa-properties-about' );
        contentP.appendChild(div_about);
        
        var title_hotel = document.createElement('h3');
        title_hotel.innerHTML = Hotel.name;
        div_about.appendChild(title_hotel);
        
        var description = document.createElement('p');
        description.innerHTML = 'Customer reviews: ';
        
        if(Hotel.averageReview == 'No reviews'){
            description.innerHTML += 'No reviews';   
        }
        else{
            for(var j=0; j< Hotel.averageReview; j++)
            {
                description.innerHTML+= '&#9733';
            }
            for(var j= Hotel.averageReview; j< 9; j++){
                description.innerHTML+= '&#9734';
            }
        }
        
        
        div_about.appendChild(description);
        
        if(Hotel.averageReview != 'No reviews'){
            var reviewsButton = document.createElement('a');
            reviewsButton.setAttribute('href','#');
            reviewsButton.setAttribute('class','aa-secondary-btn');
            reviewsButton.innerHTML = 'See reviews';
            reviewsButton.addEventListener('click',function(e){
                e.preventDefault();
                modal.style.display = "block"; 
                var currentHotName = decodeHtml(this.previousSibling.previousSibling.innerHTML);
                document.getElementById('title-hotel-modal').innerHTML = currentHotName;
                var idHotel = 0;
                var found = false;
                while((idHotel < allHotel.length ) && (!found)){
                    if(allHotel[idHotel].name === currentHotName)
                        found = true;
                    else{
                        idHotel++;
                    }
                }
                if(idHotel <allHotel.length)
                    getReviews(idHotel);
                else
                    console.log('not found');
            });
            div_about.appendChild(reviewsButton); 
        }
        
        
        
        var details = document.createElement('div');
        details.setAttribute('class', 'aa-properties-detial');
        contentP.appendChild(details);
        
        var price = document.createElement('span');
        price.setAttribute('class', 'aa-price');
        price.innerHTML = 'TOTAL PRICE: £'+Hotel.price * nbDays;
        details.appendChild(price);
        
        var bookButton = document.createElement('a');
        bookButton.setAttribute('href','#');
        bookButton.setAttribute('class','aa-secondary-btn');
        bookButton.innerHTML = 'Book';
        details.appendChild(bookButton);
        
        display_case.appendChild(div_col);
}


function computeHotelToDisplay(){
    var categorieID = document.getElementById('categorie-selection').value;
    
    
    if(categorieID != 0){
        hotelToDisplay = filterCategory(allHotel, typeOfHotel[categorieID -1]);
    }
    else
        hotelToDisplay = allHotel;
    
    
    
    var lower = document.getElementById('skip-value-lower').innerHTML;
    var higher = document.getElementById('skip-value-upper').innerHTML;
    
    
    hotelToDisplay = filterPrice(hotelToDisplay, lower, higher);
}


function filterPrice(HTD, lower, higher){
    var result= [];
    for(var i=0; i< HTD.length; i++){
        if(( ((HTD[i].price * nbDays) >= lower ) && ((HTD[i].price * nbDays) <= higher)) || (HTD[i].alwaysTop == 'true'))
            result.push(HTD[i]);
    }
    return result;
}

function filterCategory(allHotel, type){
    var result = [];
    for(var i=0; i < allHotel.length; i++){
        if((allHotel[i].type == type) || (allHotel[i].alwaysTop == 'true'))
            result.push(allHotel[i]);
    }
    return result;
}

document.getElementById('searchBUTTON').addEventListener('click', function(e){
    e.preventDefault();
    
    
    /*var allAverage = [];
    for(var i=0; i< allReviews.length; i++)
    {
        if(allReviews[i].length == 0)
            allAverage.push('No reviews');
        else{
            var temp = 0;
            for(var j=0; j< allReviews[i].length; j++)
                temp+= allReviews[i][j].polarity;
            allAverage.push(temp/ allReviews[i].length);
        }
    }
    console.log(allAverage); */
    
    computeHotelToDisplay();
    Display(hotelToDisplay);
})

function Hotel(address, postal_code, latitude, longitude, location, name, type, details, reviews, description, imageURL, averageReview, price, alwaysTop) {
    this.address = address;
    this.location = location;
    this.postal_code = postal_code;
    this.latitude = latitude;
    this.longitude = longitude;
    this.name = name;
    this.type = type;
    this.details = details;
    this.reviews = reviews;
    this.description = description;
    this.imageURL = imageURL;
    this.averageReview = averageReview;
    this.price = price;
    this.alwaysTop = alwaysTop;
}

function Review (language, polarity, source, text){
    this.language = language;
    this.polarity = polarity;
    this.source = source;
    this.text = text;
}

function processData(allText) {
    var allTextLines = allText.split('+');
    var lines = [];
    var counter = 0;
    
    while (counter < allTextLines.length) {
        var current_line = allTextLines[counter].split(';');
        var current_hotel = new Hotel(current_line[0], current_line[1], current_line[2], current_line[3], current_line[4], current_line[5], current_line[6], current_line[7], current_line[8], current_line[9], current_line[10], current_line[11], current_line[12], current_line[13]);
        
        
        counter++;
        lines.push(current_hotel);
        //console.log(current_hotel);
    }
    return lines;
}



btnClose.addEventListener('click', function(e){
   e.preventDefault();
    modal.style.display = 'none';
});

function decodeHtml(html) {
    var txt = document.createElement("textarea");
    txt.innerHTML = html;
    return txt.value;
}

